<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <link rel="stylesheet" href="..//css/main.css">
</head>

<body>
    <div class="wrapper">
        <!-- Sidebar of website -->
        <aside class="sidebar_wrapper">
            <div class="image_links">
                <a class="image_link" href="#">
                    <img src="../assets/icons/Vector1.svg" alt="Vector">
                </a>
                <a class="image_link" href="#">
                    <img src="../assets/icons/Frame 27.svg" alt="Frame 27">
                </a>
                <a class="image_link" href="#">
                    <img src="../assets/icons/Frame 29.svg" alt="Frame 29">
                </a>
                <a class="image_link" href="#">
                    <img src="../assets/icons/Frame 30.svg" alt="Frame 30">
                </a>
                <a class="image_link" href="#">
                    <img src="../assets/icons/Frame 31.svg" alt="Frame 31">
                </a>
                <a class="image_link" href="#">
                    <img src="../assets/icons/Frame 33.svg" alt="Frame 33">
                </a>
                <a class="image_link" href="#">
                    <img src="../assets/icons/users-alt 1.svg" alt="Users Alt">
                </a>

            </div>

        </aside>
        <!-- Main Wrapper -->
        <div class="main_wrapper">
            <header class="header">
                <div class="header_left">
                    <a href="#">
                        <img src="../assets/icons/blotem.svg" alt="Logo" class="logo">
                    </a>
                    <div class="search_box">
                        <input type="text" placeholder="Поиск">
                        <button class="search_btn">
                            <img src="../assets/images/search.png" alt="Search">
                        </button>
                    </div>
                    <nav class="nav_links">
                        <a href="#">Объявления</a>
                        <a href="#">Рейтинг</a>
                        <a href="#">Поиск</a>
                        <a href="#">Правила</a>
                    </nav>
                </div>
                <div class="header_right">
                    <div class="progress_container">
                        <span class="progress_label">Следующий уровень <strong>35 EXP</strong></span>
                        <div class="progress_bar">
                            <div class="progress_fill"></div>
                        </div>
                        <div class="progress_value"></div>
                    </div>
                    <div class="icons">
                        <img src="../assets/icons/Vector.svg" width="24" height="24" alt="Settings">
                        <img src="../assets/icons/sms.svg" width="24" height="24" alt="Notifications">
                        <div class="notification_badge">
                            <img src="../assets/icons/notif.svg" width="24" height="24" alt="Messages">
                            <div class="badge">
                                <p>25</p>
                            </div>
                        </div>
                    </div>
                    <div class="user_profile">
                        <span class="user_name">Иван Иванов</span>
                        <div class="user_img">
                            <img src="../assets/images/user.png" alt="User Avatar">
                        </div>
                    </div>
                </div>
            </header>
            <main class="main">
                <div class="chat-section">
                    <div class="chat-container">
                        <div class="chat-list">
                            <ul id="userList" class="user-list">
                                <!-- <li data-user="1" class="active">
                                    <img src="../assets/icons/Ellipse 7-1.svg" alt="User">
                                    <div class="details">
                                        <div class="detail">
                                            <p class="name">Nikita Ryzhkov</p>
                                            <span>13:33</span>
                                        </div>
                                        <div class="detail">
                                            <small>Забаню</small>
                                        </div>
                                    </div>
                                </li>
                                <li data-user="2">
                                    <img src="../assets/icons/Ellipse 7-2.svg" alt="User">
                                    <div class="details">
                                        <div class="detail">
                                            <p class="name">Nikita Ryzhkov</p>
                                            <span>13:33</span>
                                        </div>
                                        <div class="detail">
                                            <small>Забаню</small>
                                        </div>
                                    </div>
                                </li>
                                <li data-user="3">
                                    <img src="../assets/icons/Ellipse 7-2.svg" alt="User">
                                    <div class="details">
                                        <div class="detail">
                                            <p class="name">Nikita Ryzhkov</p>
                                            <span>13:33</span>
                                        </div>
                                        <div class="detail">
                                            <small>Забаню</small>
                                        </div>
                                    </div>
                                </li>
                                <li data-user="4">
                                    <img src="../assets/icons/Ellipse 7.svg" alt="User">
                                    <div class="details">
                                        <div class="detail">
                                            <p class="name">Nikita Ryzhkov</p>
                                            <span>13:33</span>
                                        </div>
                                        <div class="detail">
                                            <small>Забаню</small>
                                        </div>
                                    </div>
                                </li> -->
                            </ul>
                        </div>
                        <div class="chat-window">
                            <div class="chat-header">
                                <div class="img">
                                    <img src="../assets/icons/Ellipse 7-3.svg" alt="User">
                                </div>
                                <div class="title">
                                    <div class="left">
                                        <h2 id="chatTitle">Nikita Ryzhkov</h2>
                                        <span>был(а) в сети 10 часов назад</span>
                                    </div>
                                    <div class="right">
                                        <img id="menuButton" src="../assets/icons/three_dot.svg" width="32" alt="Button">
                                        <div id="menu" class="menu">
                                            <div class="triangle">

                                            </div>
                                            <div class="item">
                                                <img src="../assets/icons/m_user.svg" alt="User">
                                                <span>Показать профиль
                                            </div>
                                            <div class="item">
                                                <img src="../assets/icons/m_sun1.svg" alt="User">
                                                <span>Очистить историю
                                                </span>
                                            </div>
                                            <div class="item">
                                                <img src="../assets/icons/m_vector.svg" alt="User">
                                                <span>Пожаловаться</span>
                                            </div>
                                            <div class="hr"></div>
                                            <div class="delete item">
                                                <img src="../assets/icons/m_delete.svg" alt="User">
                                                <span>Удалить чат</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>




                            </div>
                            <div class="chat-messages" id="chatMessages">

                            </div>
                            <div class="chat-input-container">
                                <form action="">
                                    <div class="left">
                                        <label for="" class="label">
                                            <img src="../assets/icons/file_icon.svg" alt="Attach">
                                            <img src="../assets/icons/emoje.svg" alt="Emoji">
                                        </label>
                                        <input type="text" placeholder="Написать сообщение">
                                    </div>
                                    <div class="right">
                                        <img class="send-btn" src="../assets/icons/send.svg" alt="Send">
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        <script>
        const menuButton = document.getElementById("menuButton");
        const menu = document.getElementById("menu");
        const menuItems = document.querySelectorAll(".menu .item");
        menuButton.addEventListener("click", function (event) {
            event.stopPropagation();
            menu.style.display = menu.style.display === "block" ? "none" : "block";
        });
        document.addEventListener("click", function (event) {
            if (!menu.contains(event.target) && event.target !== menuButton) {
                menu.style.display = "none";
            }
        });
        menuItems.forEach(item => {
            item.addEventListener("click", function () {
                menu.style.display = "none";
            });
        });
      
        const users = [
    {
        id: 1,
        name: "Nikita Ryzhkov",
        time: "13:33",
        message: "Забаню",
        img: "../assets/icons/Ellipse 7-1.svg",
        messages: [
            { text: "Salom, qalesan?", sender: "received" },
            { text: "Yaxshi, o'zingchi?", sender: "sent" }
        ]
    },
    {
        id: 2,
        name: "Alex Ivanov",
        time: "12:50",
        message: "Ассалому алайкум!",
        img: "../assets/icons/Ellipse 7-2.svg",
        messages: [
            { text: "Salom!", sender: "received" },
            { text: "Qandaysan?", sender: "sent" }
        ]
    },
    {
        id: 3,
        name: "Sergey Petrov",
        time: "11:20",
        message: "Hey!",
        img: "../assets/icons/Ellipse 7-2.svg",
        messages: [
            { text: "Hey, what's up?", sender: "received" },
            { text: "All good!", sender: "sent" }
        ]
    },
    {
        id: 4,
        name: "Anna Smirnova",
        time: "10:05",
        message: "Salom!",
        img: "../assets/icons/Ellipse 7.svg",
        messages: [
            { text: "Salom, qanday?", sender: "received" },
            { text: "Yaxshi, rahmat!", sender: "sent" }
        ]
    }
];

const userList = document.getElementById("userList");
const chatTitle = document.getElementById("chatTitle");
const chatMessages = document.getElementById("chatMessages");
function renderUsers() {
    userList.innerHTML = "";
    users.forEach(user => {
        const li = document.createElement("li");
        li.setAttribute("data-user", user.id);
        li.innerHTML = `
            <img src="${user.img}" alt="User">
            <div class="details">
                <div class="detail">
                    <p class="name">${user.name}</p>
                    <span>${user.time}</span>
                </div>
                <div class="detail">
                    <small>${user.message}</small>
                </div>
            </div>
        `;
        li.addEventListener("click", () => loadChat(user));
        userList.appendChild(li);
    });
}
renderUsers();
function loadChat(user) {
    chatTitle.textContent = user.name;
    chatMessages.innerHTML = "";
    user.messages.forEach(msg => {
        const div = document.createElement("div");
        div.classList.add("message", msg.sender);
        div.innerHTML = `
        <div class="_div">
                <img src="${user.img}" alt="Avatar">
                <div class="message-content">${msg.text}</div>
            </div>   `;
        chatMessages.appendChild(div);
    });
}
        </script>
</body>

</html>